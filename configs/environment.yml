name: 3dgs-scene-edit
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  # Python
  - python=3.10
  
  # CUDA and PyTorch (minimal conda install)
  - pytorch::pytorch=2.1.0
  - pytorch::torchvision=0.16.0
  - pytorch::torchaudio=2.1.0
  - pytorch::pytorch-cuda=12.1
  
  # Essential tools
  - pip
  - git
  - wget
  - unzip
  
  # Pip packages (most dependencies via pip for faster solving)
  - pip:
    # Core scientific computing
    - numpy<2.0.0
    - pillow<10.0.0
    - imageio
    - tqdm
    - pyyaml
    - matplotlib
    - scikit-learn
    - tensorboard
    - scipy
    - opencv-python
    
    # gsplat (core library)
    - gsplat
    
    # Diffusion models for inpainting
    - diffusers
    - transformers
    - accelerate
    
    # LaMa inpainting
    - simple-lama-inpainting
    
    # Segmentation
    - groundingdino-py
    - segment-anything-2
    
    # Metrics
    - lpips
    - torchmetrics[image]
    
    # Visualization and UI
    - rich
    - viser
    - git+https://github.com/nerfstudio-project/nerfview@4538024fe0d15fd1a0e4d760f3695fc44ca72787
    
    # Dataset parsing (pycolmap)
    - git+https://github.com/rmbrualla/pycolmap@cc7ea4b7301720ac29287dbe450952511b32125e
    
    # CLI
    - tyro>=0.8.8
    
    # Splines
    - splines
    
    # Google Drive downloads
    - gdown
